env:
  BUILD_TIMEOUT: 120
  TEST_TIMEOUT: 60
  TIMEOUT: 120

steps:

  - label: ":aws: Amazon_Linux 2 - Build"
    command:
      - ".cicd/generate-base-images.sh amazonlinux-2"
    agents:
      queue: "automation-eos-dockerhub-image-builder-fleet"
    timeout: $BUILD_TIMEOUT
    skip: $SKIP_AMAZON_LINUX_2

  - label: ":centos: CentOS 7.6 - Build"
    command:
      - ".cicd/generate-base-images.sh centos-7"
    agents:
      queue: "automation-eos-dockerhub-image-builder-fleet"
    timeout: $BUILD_TIMEOUT
    skip: $SKIP_CENTOS_7

  - label: ":ubuntu: Ubuntu 16.04 - Build"
    command:
      - ".cicd/generate-base-images.sh ubuntu-16.04"
    agents:
      queue: "automation-eos-dockerhub-image-builder-fleet"
    timeout: $BUILD_TIMEOUT
    skip: $SKIP_UBUNTU_16

  - label: ":ubuntu: Ubuntu 18.04 - Build"
    command:
      - ".cicd/generate-base-images.sh ubuntu-18.04"
    agents:
      queue: "automation-eos-dockerhub-image-builder-fleet"
    timeout: $BUILD_TIMEOUT
    skip: $SKIP_UBUNTU_18
