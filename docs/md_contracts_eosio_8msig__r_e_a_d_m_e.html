<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EOS.IO: eosio.msig</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="eos-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EOS.IO
   &#160;<span id="projectnumber">DAWN 4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">eosio.msig </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Actions: The naming convention is codeaccount::actionname followed by a list of paramters.</p>
<p>Create a proposal </p><h2>eosio.msig::propose proposer proposal_name requested trx</h2>
<ul>
<li><b>proposer</b> account proposing a transaction</li>
<li><b>proposal_name</b> name of the proposal (should be unique for proposer)</li>
<li><b>requested</b> permission levels expected to approve the proposal</li>
<li><b>trx</b> proposed transaction</li>
</ul>
<p><a class="el" href="struct_storage.html">Storage</a> changes are billed to 'proposer'</p>
<p>Aprrove a proposal </p><h2>eosio.msig::approve proposer proposal_name level</h2>
<ul>
<li><b>proposer</b> account proposing a transaction</li>
<li><b>proposal_name</b> name of the proposal</li>
<li><b>level</b> permission level approving the transaction</li>
</ul>
<p><a class="el" href="struct_storage.html">Storage</a> changes are billed to 'proposer'</p>
<p>Revoke an approval of transaction </p><h2>eosio.msig::unapprove proposer proposal_name level</h2>
<ul>
<li><b>proposer</b> account proposing a transaction</li>
<li><b>proposal_name</b> name of the proposal</li>
<li><b>level</b> permission level revoking approval from the transaction</li>
</ul>
<p><a class="el" href="struct_storage.html">Storage</a> changes are billed to 'proposer'</p>
<p>Cancel a proposal </p><h2>eosio.msig::cancel proposer proposal_name canceler</h2>
<ul>
<li><b>proposer</b> account proposing a transaction</li>
<li><b>proposal_name</b> name of the proposal</li>
<li><b>canceler</b> account canceling the transaction (only proposer can cancel not expired transaction)</li>
</ul>
<p>Execute a proposal </p><h2>eosio.msig::exec proposer proposal_name executer</h2>
<ul>
<li><b>proposer</b> account proposing a transaction</li>
<li><b>proposal_name</b> name of the proposal</li>
<li><b>executer</b> account executing the transaction</li>
</ul>
<p>Cleos usage example.</p>
<p>Prerequisites:</p><ul>
<li><a class="el" href="classeosio_1_1token.html">eosio.token</a> contract installed to <a class="el" href="classeosio_1_1token.html">eosio.token</a> accountm, eosio.msig contract installed on eosio.msig account which is a priviliged account.</li>
<li>account 'treasury' is the issuer of EOS token.</li>
<li>account 'tester' exists.</li>
<li>keys to accounts 'treasury' and 'tester' imported into local wallet, the wallet is unlocked.</li>
</ul>
<p><a class="el" href="struct_one.html">One</a> user creates a proposal: </p><div class="fragment"><div class="line">$ cleos multisig propose test &#39;[{&quot;actor&quot;: &quot;treasury&quot;, &quot;permission&quot;: &quot;active&quot;}]&#39; &#39;[{&quot;actor&quot;: &quot;treasury&quot;, &quot;permission&quot;: &quot;active&quot;}]&#39; eosio.token issue &#39;{&quot;to&quot;: &quot;tester&quot;, &quot;quantity&quot;: &quot;1000.0000 EOS&quot;, &quot;memo&quot;: &quot;&quot;}&#39; -p tester</div><div class="line">executed transaction: e26f3a3a7cba524a7b15a0b6c77c7daa73d3ba9bf84e83f9c2cdf27fcb183d61  336 bytes  107520 cycles</div><div class="line">#    eosio.msig &lt;= eosio.msig::propose          {&quot;proposer&quot;:&quot;tester&quot;,&quot;proposal_name&quot;:&quot;test&quot;,&quot;requested&quot;:[{&quot;actor&quot;:&quot;treasury&quot;,&quot;permission&quot;:&quot;active&quot;}]...</div></div><!-- fragment --><p>Another user reviews the transaction: </p><div class="fragment"><div class="line">$ cleos multisig review tester test -p treasury</div><div class="line">{</div><div class="line">  &quot;proposal_name&quot;: &quot;test&quot;,</div><div class="line">  &quot;requested_approvals&quot;: [{</div><div class="line">      &quot;actor&quot;: &quot;treasury&quot;,</div><div class="line">      &quot;permission&quot;: &quot;active&quot;</div><div class="line">    }</div><div class="line">  ],</div><div class="line">  &quot;provided_approvals&quot;: [],</div><div class="line">  &quot;packed_transaction&quot;: &quot;00aee75a0000000000000000000000000100a6823403ea30550000000000a5317601000000fe6a6cd4cd00000000a8ed323219000000005c95b1ca809698000000000004454f530000000000&quot;,</div><div class="line">  &quot;transaction&quot;: {</div><div class="line">    &quot;expiration&quot;: &quot;2018-05-01T00:00:00&quot;,</div><div class="line">    &quot;region&quot;: 0,</div><div class="line">    &quot;ref_block_num&quot;: 0,</div><div class="line">    &quot;ref_block_prefix&quot;: 0,</div><div class="line">    &quot;max_net_usage_words&quot;: 0,</div><div class="line">    &quot;max_kcpu_usage&quot;: 0,</div><div class="line">    &quot;delay_sec&quot;: 0,</div><div class="line">    &quot;context_free_actions&quot;: [],</div><div class="line">    &quot;actions&quot;: [{</div><div class="line">        &quot;account&quot;: &quot;eosio.token&quot;,</div><div class="line">        &quot;name&quot;: &quot;issue&quot;,</div><div class="line">        &quot;authorization&quot;: [{</div><div class="line">            &quot;actor&quot;: &quot;treasury&quot;,</div><div class="line">            &quot;permission&quot;: &quot;active&quot;</div><div class="line">          }</div><div class="line">        ],</div><div class="line">        &quot;data&quot;: {</div><div class="line">          &quot;to&quot;: &quot;tester&quot;,</div><div class="line">          &quot;quantity&quot;: &quot;1000.0000 EOS&quot;,</div><div class="line">          &quot;memo&quot;: &quot;&quot;</div><div class="line">        },</div><div class="line">        &quot;hex_data&quot;: &quot;000000005c95b1ca809698000000000004454f530000000000&quot;</div><div class="line">      }</div><div class="line">    ]</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>And then approves it: </p><div class="fragment"><div class="line">$ cleos multisig approve tester test &#39;{&quot;actor&quot;: &quot;treasury&quot;, &quot;permission&quot;: &quot;active&quot;}&#39; -p treasury</div><div class="line">executed transaction: 475970a4b0016368d0503d1ce01577376f91f5a5ba63dd4353683bd95101b88d  256 bytes  108544 cycles</div><div class="line">#    eosio.msig &lt;= eosio.msig::approve          {&quot;proposer&quot;:&quot;tester&quot;,&quot;proposal_name&quot;:&quot;test&quot;,&quot;level&quot;:{&quot;actor&quot;:&quot;treasury&quot;,&quot;permission&quot;:&quot;active&quot;}}</div></div><!-- fragment --><p>First user initiates execution: </p><div class="fragment"><div class="line">$ cleos multisig exec tester test -p tester</div><div class="line">executed transaction: 64e5eaceb77362694055f572ae35876111e87b637a55250de315b1b55e56d6c2  248 bytes  109568 cycles</div><div class="line">#    eosio.msig &lt;= eosio.msig::exec             {&quot;proposer&quot;:&quot;tester&quot;,&quot;proposal_name&quot;:&quot;test&quot;,&quot;executer&quot;:&quot;tester&quot;}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
